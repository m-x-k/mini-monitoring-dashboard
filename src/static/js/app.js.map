{"version":3,"sources":["app.jsx"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["class SymbolTrend extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        var symbol = \"fa \" + this.props.symbol;\n        return(\n            <div>\n                {this.props.value} <i className={symbol}/>\n            </div>\n        );\n    }\n}\nclass Trend extends React.Component {\n    constructor(props) {\n        super(props);\n        Object.entries(this.props.trend).map(([key, value]) =>{\n            this.state = {\n                'key': key,\n                'value': value\n            };\n        });\n    }\n    render() {\n        var symbol = \"\";\n        console.log(this.props);\n        if (!this.state) return null;\n        else if (this.state.key == \"UP\") {\n            symbol = \"fa-arrow-circle-up\";\n        } else if(this.state.key == \"DOWN\") {\n            symbol = \"fa-arrow-circle-down\";\n        }\n        return(\n            <div className=\"trend\">\n                <SymbolTrend value={this.state.value} symbol={symbol} />\n            </div>\n        );\n    }\n}\nclass ServiceMeasurement extends React.Component {\n  constructor(props) {\n    super(props);\n    Object.entries(this.props.measurement).map(([key,value]) =>{\n      this.state = {\n        'key': key,\n        'value': value\n      };\n    });\n  }\n  render() {\n    return(\n      <div className=\"measurement\">\n          <div className=\"measureName\">{this.state.key}:</div>\n          <div className=\"measureValue\">{this.state.value}</div>\n      </div>\n    );\n  }\n}\nclass MonitorDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fetchData=this.fetchData.bind(this);\n    this.updateDateTime=this.updateDateTime.bind(this);\n  }\n\n  componentDidMount() {\n      this.fetchData();\n  }\n\n  componentWillMount() {\n      const id = setInterval(this.fetchData, 5000);\n      this.setState({intervalId: id});\n  }\n\n  componentWillUnmount() {\n      clearInterval(this.state.intervalId);\n  }\n\n  fetchData() {\n      axios.get('/example')\n      .then(({data}) => {\n          this.setState(\n              {services: data.services}\n          );\n      })\n      .catch(function (error) {\n          console.log(error);\n      });\n\n      this.updateDateTime();\n  }\n\n  updateDateTime() {\n    var today = new Date();\n    var currenttime = today.toDateString() + \" \" + today.toTimeString();\n    this.setState({\n        currenttime: currenttime\n    });\n  }\n\n  render() {\n      if (!this.state || !this.state.services) return null;\n      console.log(this.state);\n      return(\n      <div className=\"container\">\n          <h2>New Foundations Support Dashboard</h2>\n          <div className=\"canvas\">\n            {this.state.services.map((service, index) =>\n              <div key={index} className=\"service\">\n                <h3>{service.name}</h3>\n                <div className=\"measurements\">\n                    {service.measurements.map((measurement, index) =>\n                        <ServiceMeasurement key={index} measurement={measurement} />\n                    )}\n                </div>\n                <div className=\"trends\">\n                    {service.trends.map((trend, index) =>\n                        <Trend key={index} trend={trend} />\n                    )}\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"updated\">Last Updated: <span>{this.state.currenttime}</span></div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n   <MonitorDisplay />,\n   document.getElementById('root')\n);\n"]}